<title>Filsystemshanterare</title>
<body bgcolor=#ffffff>
<center><img src="images/mount.gif"></center><p>
<h2><i>Denna hjälpsida är inte färdig</i></h2>

<hr>
<h3>Introduktion</h3>
Syftet med denna modul är att förenkla montering av lokala diskar,
filresurser från andra datorer och virtuellt minne. Innan ett Unix-system
kan komma åt filer på någon hårddisk, CD-ROM, Jaz-skiva, diskett eller
filserver måste den <tt>monteras</tt> vid någon punkt i filsystemet.
Systemet för lista över de filsystem det känner till, oftast för
montering vid start. Filsystem kan också monteras tillfälligt och systemet
glömmer då bort dem när de monterats av eller när systemet startas om.

<p>Alla installerade Unix-system monterar minst ett, och troligen flera,
filsystem vid start. Det kommer alltid att finnas ett filsystem som
monterats som rotkatalog, <tt>/</tt>, och förmodligen fler som
<tt>/usr</tt>, <tt>/proc</tt> och <tt>/net</tt>. Förutsatt att ditt
Unix-system inte är en arbetsstation utan hårddisk kommer rotkatalogen
att monteras från en lokal hårddisk. Andra filsystem kan monteras från
filservrar, lokala diskar och till och med "magiska" filsystem som
<tt>/proc</tt>, som inte innehåller några riktiga filer.

<p>Ett specialfall är virtuellt minne. Du bör alltid ha minst en
swap-fil för virtuellt minne på systemet, som används av OS:et som
en utvidgning av det fysiska minnet. En swap-fil kan antingen vara en
vanlig fil i ett filsystem eller en partition på en lokal disk som
reserverats som swap-partition.

<p>Denna modul läser och uppdaterar filen <tt>/etc/fstab</tt> eller
<tt>/etc/vfstab</tt> för att hantera kända filsystem. De filsystem som
för tillfället är monterade finns i filen <tt>/etc/mtab</tt> eller
<tt>/etc/mnttab</tt>. Webmin struntar i kommentarer i tabellen över
kända filsystem.

<hr>
<h3>Lista aktiva filsystem</h3>
Startsidan för <tt>Filsystemshanteraren</tt>-modulen listar alla kända
filsystem. För varje filsystem visas följande uppgifter:
	<ul>
	<li><b>Monteringspunkt</b>
	    <br>Katalogen där detta filsystem monteras eller
	    <i>Virtuellt minne</i> om detta är en swap-fil. På varje
	    monteringspunkt kan högst ett filsystem monteras.

	<li><b>Filsystemstyp</b>
	    <br>Fullständigt namn på denna filsystemstyp. Detta beror på
	    monteringen (lokal eller fjärr-) och hur disken är formaterad.
	    Filsystemstyper för monteringar från lokal disk kan vara
	    <tt>Linux Native Filesystem</tt>, <tt>MS-DOS Filesystem</tt>
	    och <tt>Solaris Unix Filesystem</tt>. Fjärrmonteringar kommer
	    nästan alltid att vara av typen <tt>Network Filesytem</tt>.

	    <p>Om du vill använda kortnamn för filsystemstyper (t ex
	    <tt>ext2fs</tt> istället för <tt>Linux Native Filesystem</tt>),
	    kan du ändra inställningen <tt>Använd långa filsystemstyper</tt>
	    i <a href="../config.cgi?mount">modulinställningar</a>.

	<li><b>Monterad från</b>
	    <br>Filen eller systemnamn och -katalog som detta filsystem
	    monterats från. Under Unix har alla lokala diskar i
	    <tt>/dev/</tt>-katalogen varsin diskfil som används för att
	    komma åt disken i fråga. Diskfiler har sökvägar som
	    <tt>/dev/dsk/c0t1d0s3</tt> och <tt>/dev/hda1</tt>. När du
	    ändrar eller skapar en montering kommer Webmin automatiskt
	    att omvandla diskfilsnamnet till disk och partition.

	<li><b>Används?</b>
	    <br>Ja om filsystemet är monterat för tillfället, Nej om det
	    inte är det.

	<li><b>Permanent?</b>
	    <br>Ja om filsystemet är uppskrivet i listan över permanenta
	    monteringar, Nej om det ska glömmas bort när det monterats av.
	</ul>

<hr>
<h3>Lägga till filsystem</h3>
När du lägger till en montering väljer du filsystemstyp nedanför listan
över befintliga monteringar. Du får då upp ett formulär där du skriver in
monteringspunkt, monteringsursprung och övriga uppgifter om den nya
monteringen. Varje filsystemstyp och varje Unix-version har olika
uppsättning inställningar och många typer har olika möjligheter för
olika monteringsursprung.

<p>Oavsett vilket filsystem du väljer kommer en del inmatningar att bli
likadana i <tt>Skapa montering</tt>-formuläret. Den viktigaste är
monteringspunkten, dvs katalogen där filsystemet ska monteras. Denna
uppgift måste fyllas i för alla filsystemstyper utom virtuellt minne.
Om du skriver in en katalog som inte finns kommer Webmin att försöka
skapa den åt dig.

<p>För de flesta filsystemstyper kommer du att ha tre alternativ för att
spara monteringen:
	<ul>
	<li><b>Spara och montera vid start</b>
	    <br>Monteringen kommer att sparas permanent och monteras
	    när systemet startas.
	<li><b>Spara</b>
	    <br>Monteringen kommer att sparas, men inte monteras vid start.
	<li><b>Spara inte</b>
	    <br>Monteringen är bara tillfällig.
	</ul>

<p>För de flesta filsystemstyper kan du också välja mellan att montera
nu eller ej. Det är ganska meningslöst att välja att inte montera eller
spara ett nytt filsystem, så om du försöker att göra detta kommer du att
få ett felmeddelande.

<p>Några filsystemstyper har inte alla de ovan angivna alternativen.
Exempel på sådana är:
	<ul>
	<li><tt>Virtuellt minne</tt> under Linux
	    <br>När denna typ monteras sparas den, och när den monteras
	    av raderas den. Sparade VM-monteringar monteras vid start.
	<li><tt>Windows-nätverk</tt> under Linux
	    <br>Denna filsystemstyp kan endast monteras med kommandot
	    <tt>smbmount</tt> och kan därför inte sparas.
	<li><tt>Automounter-filsystem</tt>
	    <br>Permanenta Automounter-filsystem monteras alltid vid start.
	</ul>

<p>För alla filsystemstyper måste du ange monteringsursprung och
monteringsinställningar. Eftersom ursprung och inställningar skiljer sig
markant mellan olika Unix-smaker och filsystemstyper beskrivs de i listan
nedan:
	<ul>
	<li><b>Redhat Linux 4.0+</b> och <b>Slackware Linux 3.0+</b>
		<br>För de flesta Linux-filsystemtyper kan monteringsursprung
		vara något av nedanstående:
		<ul>
		<li><b>IDE-disk</b>
			<br>För detta alternativ måste du ange IDE-diskens
			bokstav och partition. Bokstaven är vanligen <tt>a</tt>
			för den första interna hårddisken, <tt>b</tt> för den
			andra interna disken och <tt>c</tt> för CD-ROM.
			Partitionsnumret beror på vilken partition du vill
			montera. Använd kommandot <tt>fdisk</tt> för att se
			tillgängliga partitioner på diskarna.
		<li><b>SCSI-disk</b>
			<br>För detta alternativ måste du ange SCSI-diskens
			bokstav och partition. Bokstaven för disken har
			<i>inget</i> med SCSI-numret att göra - varje
			SCSI-disk får en bokstav av Linux i den ordning
			operativsystemet hittar dem.
		<li><b>Diskett</b>
			<br>För detta alternativ behöver du endast ange
			diskettstationens nummer, dvs <tt>0</tt> för den
			primära diskettstationen och <tt>1</tt> för den
			sekundära.
		<li><b>Annan enhet</b>
			<br>Om du väljer detta alternativ kan du ange en
			sökväg till den enhet du vill montera. Detta
			används exempelvis för RAOD-diskar, PCMCIA-kort
			och andra sökvägar som Webmin inte känner till.
		</ul>
		<p>Innan det går att montera ett filsystem från en lokal
		IDE- eller SCSI-diskpartition måste partitionen och
		filsystemet finnas. Du kan använda
		<a href=/fdisk/>Partitionshanterar</a>-modulen eller
		Linux-kommandona <tt>fdisk</tt> och <tt>mkfs</tt> för att
		göra detta.

		För monteringstyperna <tt>Network Filesystem (nfs)</tt>,
		<tt>Windows nätverksfilsystem (smbfs)</tt>,
		<tt>Automounter-filsystem (auto)</tt> och <tt>Virtuellt
		minne (swap)</tt> ska monteringsursprunget anges på en
		annan form. Se avsnittet nedan för respektive filsystemstyp.

		När du har angivit monteringsursprung kan du också göra
		inställningar för detta filsystem. En del inställningar är
		dock gemensamma för nästan alla Linux-filsystem. Dessa är:

		<table border>
		<tr> <td><b>Endast läsbart</b></td>
		<td>Om <i>Ja</i> kan ingen skriva, skapa, radera eller ändra
		någonting på detta filsystem</td> </tr>
		<tr> <td><b>Tillåt SUID-filer</b></td>
		<td>Om <i>Nej</i> kommer setuid-program på detta filsystem
		inte att köras som sina ägare. Detta är användbart när man
		fjärrmonterar filsystem som man inte litar på.</td> </tr>
		</table>

		Filsystemsspecifika inställningar är:
		<ul>
		<li><b>Linux Native Filesystem (ext2fs)</b>
			<br>Detta är det senaste filsystemet för lokala
			hårddiskar i Linux.
			Följande inställningar finns också:
			<table border>
			</table>

		<li><b>Network Filesystem (nfs)</b>
			<br>NFS är standard-Unix-metoden för att dela filer
			mellan olika system. För NFS är monteringsursprunget
			inte en lokal disk utan ett datornamn och en katalog
			på denna dator. Datornamnet (eller IP-adressen) ska
			ange den dator du vill montera från. Katalogen du
			anger är den katalog som ska exporteras till ditt
			system.
			<br>NFS-filsystem har även följande inställningar:
			<table border>
			<tr> <td><b>NFS-version</b></td>
			<td>Den version av NFS (1-3) som ska användas</td> </tr>
			</table>
		
		<li><b>Virtuellt minne (swap)</b>
			<br>Virtuellt minne kan ha en lokal IDE-disk, SCSI-disk
			eller en vanlig fil som monteringsursprung. Om man
			anger ett filnamn som inte finns kommer Webmin att
			fråga efter filstorlek för swap-filen och sedan
			skapa den. Om Linuxkärnan inte har konfigurerats för
			det kan en swap-fil inte finnas på ett NFS-monterat
			filsystem.
			<br>Monteringar av virtuellt minne har inga
			ytterligare inställningar.

		<li><b>Windows nätverksfilsystem (smbfs)</b>
			<br>Windows nätverk är det fildelningsprotokoll som
			Samba, Windows 95 och NT använder (även känt som SMB
			eller LANManager). Om en Windows-filserver delar en
			katalog kan man montera den under Linux och komma
			åt innehållet som vanliga filer.

			<p>Monteringsursprunget för ett Windows
			nätverksfilsystem är ett resursnamn, t ex
			<tt>\\ntbox\somedir</tt>. Första delen är serverns
			NetBIOS-namn och andra delen namnet på en resurs på
			servern. I idealfallet är serverns NetBIOS-namn
			detsamma som dess TCP/IP-datornamn, men om så inte
			är fallet kan man i inställningarna ange korrekt
			datornamn eller IP-adress som uppkopplingar ska ske
			mot.
			<br>Följande inställningar ska göras:
			<table border>
			<tr> <td><b>Användarnamn</b></td>
			<td>Användarnamn som ska användas vid inloggning på
			filservern. Detta behövs ej för öppna resurser.</td> </tr>
			<tr> <td><b>Lösenord</b></td>
			<td>Lösenord för det angivna användarnamnet. Om man
			inte har angivit ett giltigt användarnamn och lösenord
			på servern kommer det inte gå att montera resursen.
			Detta behövs ej för öppna resurser.</td> </tr>
			</table>

		<li><b>MS-DOS-filsystem (fat)</b>
			<br>Disketter och hårddiskar som formaterats under
			Windows 3.1 med MS-DOS-version lägre än 7.0 har denna
			filsystemstype. Filnamn på sådana filsystem måste vara
			på formen 8.3, dvs DOS-standard. Om man försöker skapa
			en fil med längre namn kommer namnet att klippas till
			8.3-format. Eftersom DOS inte använder begrepp som
			ägare av filer och filrättigheter kommer alla filer
			i en sådan monterad katalog att ha samma ägare och
			rättigheter. Ägande och rättigheter kan då inte
			ändras för enskilda filer.
			<br>Följande inställningar kan göras:
			<table border>
			</table>
			
		<li><b>Windows 95-filsystem (vfat)</b>
			<br>Detta filsystem finns på diskar som formaterats
			under Windows 95 och möjligen NT. I likhet med
			MS-DOS-filsystemet ovan finns inte begreppen ägande
			och rättigheter, men till skillnad från MS-DOS kan
			filnamn få vara längre än 8.3.
			<br>Följande inställningar kan göras:
			<table border>
			</table>

		<li><b>ISO9660-filsystem (iso9660)</b>
			<br>Detta är standardformatet för CD-ROM. Basformatet
			stödjer endast 8.3-filnamn (som <tt>fat</tt>), men
			det finns ett utvidgat format som heter Rock Ridge,
			där filer kan ha långa namn och Unix-rättigheter.
			<br>Följande inställningar kan göras:
			<table border>
			</table>

		<li><b>OS/2-filsystem (hpfs)</b>
			<br>Hårddiskar som formaterats under OS/2 har detta
			filsystemsformat. Det stödjer långa filnamn men inte
			Unix-rättigheter och ägande av filer.
			<br>Följande inställningar kan göras:
			<table border>
			</table>

		<li><b>Linux på MS-DOS-filsystem (umsdos)</b>
			<br>Detta filsystem används endast för att
			installera Linux på ett system som bara har ett
			MS-DOS-filsystem och inte kan partitioneras om.
			Det använder katalogen \linux på DOS-filsystemet
			som rotkatalog för Linux-filsystemet. När detta
			monteras under Linux stödjer det långa filnamn,
			ägande av filer och filrättigheter. Detta filsystem
			stöds normalt inte av RedHat Linux och bör endast
			användas om man inte har något annat alternativ,
			eftersom prestandan för systemet blir dålig.
			<br>Följande inställningar kan göras för <tt>umsdos</tt>:
			<table border>
			</table>

		</ul>
	
	<li><b>Solaris 2.5+</b>
		<br>För diskbaserade Solaris-filsystem kan
		monteringsursprunget vara något av nedanstående:
			<ul>
			<li><b>SCSI-disk</b>
				<br>Under Solaris identifieras en SCSI-disk
				av 4 siffror:
				<ul>
				<li><b>Controller</b> - SCSI-controllern som
				    disken är ansluten till. Denna är alltid
				    0 för den inbyggda controllern på
				    Sparclådor.
				<li><b>Target</b> - SCSI-enhetsnumret. För
				    interna hårddiskar är detta 0 eller 1.
				    För externa diskar ställs detta in på
				    disklådan.
				<li><b>Enhet</b> - Nästan alltid 0.
				<li><b>Partition</b> - Numret på den
				    partition som ska monteras.
				</ul>
			<li><b>MetaDisk-enhet</b>
				<br>Om du har stripade, speglade eller RAIDade
				enheter som skapats med Suns Metadevice-program
				ska du välja denna inställning och skriva in
				Metadevice-numret.
			<li><b>Annan enhet</b>
				<br>Här måste du skriva in fullständig sökväg
				till diskfilen som ska monteras.
			</ul>

		<p>Innan det går att montera ett filsystem från en lokal
		SCSI-disk måste partitionen och filsystemet finnas. Du kan
		 använda
		<a href=/fdisk/>Partitionshanterar</a>-modulen eller
		Unix-kommandona <tt>format</tt> och <tt>newfs</tt> för att
		göra detta.

		<p>Under Solaris monteras CDROM och disketter automatiskt
		av enhetshanteraren. Om man inte stängt av detta behöver
		man inte alls montera disketter och CDROM manuellt. Enheter
		som monterats av enhetshanteraren visas inte i listan över
		monterade filsystem på startsidan. Även mobila SCSI-enheter
		(t ex Jaz- och Syquest-enheter) kan utelämnas beroende på
		hur enhetshanteraren är uppsatt på systemet.

		<p>När monteringsursprung för ett filsystem har angivits
		kan filsystemspecifika inställningar göras:
		<ul>
		<li><b>Solaris Unix Filesystem (ufs)</b>
			<br>Detta är standardfilsystemet som Solaris använder
			för lokala diskar.
			<br>Följande inställningar kan göras:
			<table border>
			<tr> <td><b>Endast läsbart</b></td>
			<td>Om <i>Ja</i> kan ingen skriva, skapa, radera
			eller göra chmod för någonting på detta filsystem</td> </tr>
			</table>

		<li><b>Network Filesystem (nfs)</b>
			<br>NFS är standard-Unix-metoden för att dela filer
			mellan olika system. För NFS är monteringsursprunget
			inte en lokal disk utan ett datornamn och en katalog
			på denna dator. Datornamnet (eller IP-adressen) ska
			ange den dator du vill montera från. Katalogen du
			anger är den katalog som ska exporteras till ditt
			system.
			<br>För NFS-filsystem kan även följande inställningar
			göras:
			<table border>
			</table>

		<li><b>Virtuellt minne (swap)</b>
			<br>Monteringsursprunget för virtuellt minne kan vara
			en SCSI-disk, en MetaDisk-enhet eller en vanlig fil.
			Om du anger namnet på en fil som inte finns kommer
			Webmin att fråga efter storlek på den swapfil som ska
			skapas. När filen har skapats kommer den att monteras
			som swap.
			<br>Inga ytterligare inställningar finns för montering
			av virtuellt minne.

		<li><b>Cachande filsystem (cachefs)</b>
			<br>Detta filsystem använder utrymme på lokal disk
			för att cacha filer från andra filsystem, vanligen
			NFS. Filer från en NFS-server som ofta används kommer
			alltså att lagras lokalt med en betydande minskning
			av väntetider som resultat. När du skapar en montering
			av ett cachande filsystem kommer Webmin att anta att
			filsystemet som man cachar ifrån är av NFS-typ.

			<p>Monteringsursprung för <tt>cachefs</tt>-filsystem
			är den NFS-server och den katalog som ska cachas.
			När man monterar ett cachande filsystem görs egentligen
			två monteringar - montering av den katalog som ska
			cachas (back mount) och <tt>cachefs</tt>-montering av
			cachekatalogen. Webmin visar inte dessa back mounts
			i listan över monterade filsystem.

			<p><tt>cachefs</tt> använder en cachekatalog där den
			lagrar cachade filer. Denna anges i inställningarna.
			För att skapa en cachekatalog med önskade parametrar
			kan man antingen använda Unix-kommandot
			<tt>cfsadmin</tt> eller sätta upp det automatiskt
			med Webmin. I det senare fallet kommer cachen att
			begränsas till 10 % av storleken på det filsystem som
			cachekatalogen finns i.
			<br>Följande inställningar kan göras:
			<table border>
			</table>

		<li><b>Ram Disk Filesystem (tmpfs)</b>
			<br>Filer som lagras i denna sortens filsystem finns
			bara i RAM och försvinner när filsystemet monteras av
			och när systemet startas om. Solaris
			<tt>tmp</tt>-katalog är av denna typ. Eftersom det
			endast finns i minnet finns det inget avsnitt för
			monteringsursprung i formuläret.

			<br>Den enda inställning som kan göras är:
			<table border>
			</table>

		<li><b>Automounter Filesystem (autofs)</b>
			<br>Automounter monterar automatiskt på och av
			NFS-kataloger på begäran. En underkatalog till en
			automonterad katalog monteras då användaren först
			refererar till den, exempelvis genom att göra cd
			till underkatalogen. Om underkatalogen inte använts
			på ett tag monteras den av och försvinner ur
			listningarna.

			<p>Det finns tre alternativa monteringsursprung
			för denna filsystemstyp:
				<ul>
				<li><b>Alla NFS-servrar (-net)</b>
					<br>När användaren gör cd till en
					underkatalog används namnet som namn
					på en NFS-server. Om denna server finns
					kommer alla tillgängliga exporteringar
					på denna att monteras under den nya
					underkatalogen
					<br>Solaris har från början
					<tt>/net</tt>-katalogen monterad med
					detta ursprung, så användaren kan göra
					saker i stil med
					<br><tt>cd
					/net/bar.foo.com/usr/local/bin</tt>
					<br><tt>ls -l</tt>
				<li><b>XFN-server (-xfn)</b>
					<br>Ingen aning ...

				<li><b>Automounter map</b>
					<br>Namnet på en NIS-fil eller lokal
					automonter-fil måste anges. Här anges
					de servrar och kataloger som ska
					monteras. Se
					<tt>automount</tt>-manualsidan för
					mer information.
				</ul>

			<p>Inställningarna för automounter-filsystem är
			likadana som för NFS. Dessa inställningar gäller för
			automatmonterade underkataloger inom
			automount-katalogen.

		<li><b>MS-DOS-filsystem (pcfs)</b>
			<br>Diskar som formaterats under MS-DOS har detta
			filsystem. Filnamnen är begränsade till 8+3 bokstäver
			och filerna kan inte ges Unix-ägande eller
			-rättigheter. Normalt används Webmin aldrig för att
			montera <tt>pcfs</tt>-filsystemsdisketter eftersom de
			automatiskt tas om hand av enhetshanteraren.
			<br>Följande inställningar kan göras:
			<table border>
			</table>

		<li><b>CDROM-filsystem (hsfs)</b>
			
		</ul>
	</ul>

<hr>
<h3>Ändra i ett filsystem</h3>
Klicka på en monteringspunkt i listan på startsidan för att ändra i
motsvarande montering. Du får då upp samma formulär som då du skapar
nya monteringar, med aktuell monteringspunkt, -ursprung och inställningar
ifyllda och kan ändra där du vill.

<p>En befintlig montering kommer att sparas permanent, monteras direkt
eller båda. Om du ändrar så att monteringen inte ska sparas eller monteras
kommer den att tas bort från monteringslistan. Observera att vissa
filsystemstyper inte har båda dessa alternativ.

<p>Under Unix går det inte att montera av en katalog som används på något
sätt, antingen genom att en process har en fil i katalogen eller att någon
användare har någon underkatalog som arbetskatalog.
Av liknande orsaker kan en swapfil inte monteras av om mängden ledigt minne
är mindre än swapfilens storlek. När man byter katalog, ursprung eller
ändrar inställningar för en befintlig montering kommer Webmin att montera av
och på den för att ändringarna ska träda i kraft. Detta kommer att misslyckas
om katalogen eller swapfilen används, vilket ger ett felmeddelande.

<hr>
<a href="/"><img alt="<-" align=middle border=0 src=/images/left.gif></a>
&nbsp;&nbsp;<a href="">Tillbaka till modul</a>
 

